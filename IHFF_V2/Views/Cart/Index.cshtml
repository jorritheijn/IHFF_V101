@using IHFF_V2;
@model IHFF_V2.Models.CartItem

@section Styles {
    <link href="@Url.Content("~/Content/ShoppingCart.css")" rel="stylesheet" />
}

@using IHFF_V2.Models

@{
    ViewBag.Title = "Index";
}

<h2>Shopping Cart</h2>

<!--Display all items in the cart-->
@if (Session["cart"] != null && ((List<CartItem>)Session["cart"]).Any())
{
    foreach (CartItem ci in (List<CartItem>)Session["cart"])
    {
        //TODO: Proper formatting
        <div class="cart-item">
            <div class="cart-item-poster">
                <img class="film-poster"src="@Blobmanager.ImageSource(ci.Poster)"/>
            </div>
            <div class="cart-item-information">
                <p>@ci.Titel</p>
                <p>Wanneer: @ci.Tijd</p>
                <p>Locatie: @ci.Locatie</p>
                <p>Prijs per ticket: €@ci.Prijs</p>
                <p>
                    Aantal: @ci.Quantity
                    @Html.ActionLink("+", "Increment", "Cart", new { id = ci.Id }, null)
                    @Html.ActionLink("-", "Decrement", "Cart", new { id = ci.Id }, null)
                    @Html.ActionLink("Del", "Delete", "Cart", new { id = ci.Id }, null)
                </p>
            </div>
        </div>
    }
    @Html.ActionLink("Naar bestellen", "EnterDetails", "Cart")
}
else
{
    if (Session["cart"] == null) { Session["cart"] = new List<CartItem>(); }
    <h2>Uw winkelwagen is leeg.</h2>
}
